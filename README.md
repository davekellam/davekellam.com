# davekellam.com

Generated by the robots interpretting my thinking ðŸ¤–ðŸ‘‡

---

This `wp-content` tree contains everything that makes the public site run: the always-on core functionality mu-plugin, the legacy `spacemonkey` theme that is still live today, the next-generation `davekellam-25` theme, and the tooling that lets us preview/migrate safely.

## Project layout

- `mu-plugins/`
  - `loader-core.php` autoloads `dk-core`, which houses persistent functionality (helper utilities, editor tweaks, REST/sitemap restrictions, custom post types & taxonomies, emoji removal, etc.).
  - Additional config files (`dmup-config.php`, `tsp-config.php`) let environment-specific mu-plugins register without being tied to theme code.
- `themes/spacemonkey/` classic Underscores-based theme currently powering production.
- `themes/davekellam-25/` next theme (modular includes, Open Graph/meta helpers, script/style registries) that will replace `spacemonkey`.
- `plugins/themeswitcher-pro-1.4.0/` commercial Theme Switcher used to route traffic to the new theme during rollout.
- `plugins/dk-under-construction/` optional banner plugin for status messaging.
- `composer.json` handles mu-plugin dependencies (`dk-core/vendor/autoload.php`). Run `composer install` whenever dependencies change.

## Core functionality mu-plugin (`mu-plugins/dk-core`)

- Loads on every request, regardless of the active theme, ensuring baseline behavior while we iterate on design.
- Key responsibilities:
  - Removes legacy cruft (emoji scripts, WLW manifest, XML-RPC, WordPress generator meta).
  - Applies admin/dashboard cleanup and sets global query defaults.
  - Restricts REST/sitemap exposure for anonymous visitors.
  - Registers any site-wide custom post types or taxonomies (see `post-types.php`, `taxonomies.php`).
  - Provides helper utilities (`helpers.php`) and Composer-backed packages via `vendor/`.
- To extend, drop a new PHP file in `dk-core/`, require it from `init.php`, and commit any new Composer deps.

## Themes

### `spacemonkey` (legacy)

- Classic theme derived from Underscores; currently set as the default so public visitors keep the familiar layout.
- Minimal build toolingâ€”most assets are inline CSS/JS inside the theme.

### `davekellam-25` (next)

- New theme
